webpackJsonp([0],{"9Wa0":function(n,l,t){"use strict";function e(n){return v._38(0,[(n()(),v._36(-1,null,["\n"])),(n()(),v._17(1,0,null,null,32,"div",[["class","singleJournal"]],null,null,null,null,null)),(n()(),v._36(-1,null,["\n    "])),(n()(),v._17(3,0,null,null,29,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,t){var e=!0,u=n.component;if("submit"===l){e=!1!==v._29(n,5).onSubmit(t)&&e}if("reset"===l){e=!1!==v._29(n,5).onReset()&&e}if("ngSubmit"===l){e=!1!==u.onSubmit()&&e}return e},null,null)),v._15(4,16384,null,0,m.p,[],null,null),v._15(5,540672,null,0,m.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),v._33(2048,null,m.b,null,[m.h]),v._15(7,16384,null,0,m.l,[m.b],null,null),(n()(),v._36(-1,null,["\n        "])),(n()(),v._17(9,0,null,null,8,"div",[["class","textArea"]],null,null,null,null,null)),(n()(),v._36(-1,null,["\n          "])),(n()(),v._17(11,0,null,null,5,"textarea",[["formControlName","answerText"],["rows","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0;if("input"===l){e=!1!==v._29(n,12)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==v._29(n,12).onTouched()&&e}if("compositionstart"===l){e=!1!==v._29(n,12)._compositionStart()&&e}if("compositionend"===l){e=!1!==v._29(n,12)._compositionEnd(t.target.value)&&e}return e},null,null)),v._15(12,16384,null,0,m.c,[v.N,v.n,[2,m.a]],null,null),v._33(1024,null,m.i,function(n){return[n]},[m.c]),v._15(14,671744,null,0,m.f,[[3,m.b],[8,null],[8,null],[2,m.i]],{name:[0,"name"]},null),v._33(2048,null,m.j,null,[m.f]),v._15(16,16384,null,0,m.k,[m.j],null,null),(n()(),v._36(-1,null,["\n          "])),(n()(),v._36(-1,null,["\n          "])),(n()(),v._17(19,0,null,null,12,"div",[["class","buttonArea"]],null,null,null,null,null)),v._15(20,278528,null,0,b.o,[v.z,v.n,v.M],{ngStyle:[0,"ngStyle"]},null),(n()(),v._36(-1,null,["  \n              "])),(n()(),v._17(22,0,null,null,5,"textarea",[["formControlName","questionText"],["readonly",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0;if("input"===l){e=!1!==v._29(n,23)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==v._29(n,23).onTouched()&&e}if("compositionstart"===l){e=!1!==v._29(n,23)._compositionStart()&&e}if("compositionend"===l){e=!1!==v._29(n,23)._compositionEnd(t.target.value)&&e}return e},null,null)),v._15(23,16384,null,0,m.c,[v.N,v.n,[2,m.a]],null,null),v._33(1024,null,m.i,function(n){return[n]},[m.c]),v._15(25,671744,null,0,m.f,[[3,m.b],[8,null],[8,null],[2,m.i]],{name:[0,"name"]},null),v._33(2048,null,m.j,null,[m.f]),v._15(27,16384,null,0,m.k,[m.j],null,null),(n()(),v._36(-1,null,[" \n              "])),(n()(),v._17(29,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),v._36(-1,null,["Save"])),(n()(),v._36(-1,null,["\n          "])),(n()(),v._36(-1,null,["          \n      "])),(n()(),v._36(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,5,0,t.saveJournalForm);n(l,14,0,"answerText"),n(l,20,0,t.getTitleStyle());n(l,25,0,"questionText")},function(n,l){var t=l.component;n(l,3,0,v._29(l,7).ngClassUntouched,v._29(l,7).ngClassTouched,v._29(l,7).ngClassPristine,v._29(l,7).ngClassDirty,v._29(l,7).ngClassValid,v._29(l,7).ngClassInvalid,v._29(l,7).ngClassPending),n(l,11,0,v._29(l,16).ngClassUntouched,v._29(l,16).ngClassTouched,v._29(l,16).ngClassPristine,v._29(l,16).ngClassDirty,v._29(l,16).ngClassValid,v._29(l,16).ngClassInvalid,v._29(l,16).ngClassPending),n(l,22,0,v._29(l,27).ngClassUntouched,v._29(l,27).ngClassTouched,v._29(l,27).ngClassPristine,v._29(l,27).ngClassDirty,v._29(l,27).ngClassValid,v._29(l,27).ngClassInvalid,v._29(l,27).ngClassPending),n(l,29,0,t.saveJournalForm.pristine)})}function u(n){return v._38(0,[(n()(),v._17(0,0,null,null,1,"app-single-journal",[],null,null,null,e,y)),v._15(1,114688,null,0,h,[m.d],null,null)],function(n,l){n(l,1,0)},null)}function r(n){return O._38(0,[O._30(0,L.d,[O.A]),(n()(),O._36(-1,null,["\n"])),(n()(),O._17(2,0,null,null,18,"div",[["class","row dateHeader"]],null,null,null,null,null)),(n()(),O._36(-1,null,["\n  "])),(n()(),O._17(4,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(n()(),O._36(-1,null,["\n    "])),(n()(),O._17(6,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-arrow-left fa-2x"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.getPreviousDate()&&e}return e},null,null)),(n()(),O._36(-1,null,["\n  "])),(n()(),O._36(-1,null,["\n  "])),(n()(),O._17(9,0,null,null,5,"div",[["class","col-8"],["style","text-align: center;"]],null,null,null,null,null)),(n()(),O._36(-1,null,["\n    "])),(n()(),O._17(11,0,null,null,2,"h3",[],null,null,null,null,null)),(n()(),O._36(12,null,[""," "])),O._32(13,1),(n()(),O._36(-1,null,["\n  "])),(n()(),O._36(-1,null,["\n  "])),(n()(),O._17(16,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(n()(),O._36(-1,null,["\n    "])),(n()(),O._17(18,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-arrow-right fa-2x"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.getNextDate()&&e}return e},null,null)),(n()(),O._36(-1,null,["\n  "])),(n()(),O._36(-1,null,["\n"])),(n()(),O._36(-1,null,["\n"]))],null,function(n,l){var t=l.component;n(l,12,0,O._37(l,12,0,n(l,13,0,O._29(l,0),t.currentDate)))})}function a(n){return O._38(0,[(n()(),O._17(0,0,null,null,1,"app-date-header",[],null,null,null,r,N)),O._15(1,49152,null,0,j,[],null,null)],null,null)}function o(n){return A._38(0,[(n()(),A._17(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),A._36(-1,null,["\n        "])),(n()(),A._17(2,0,null,null,1,"app-single-journal",[],null,[[null,"saveJournal"]],function(n,l,t){var e=!0,u=n.component;if("saveJournal"===l){e=!1!==u.getSaveJournal(t)&&e}return e},e,y)),A._15(3,114688,null,0,h,[H.d],{answer:[0,"answer"]},{saveJournal:"saveJournal"}),(n()(),A._36(-1,null,["\n    "]))],function(n,l){n(l,3,0,l.context.$implicit)},null)}function i(n){return A._38(0,[(n()(),A._17(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),A._36(-1,null,["\n    "])),(n()(),A._11(16777216,null,null,1,null,o)),A._15(3,802816,null,0,I.k,[A.Z,A.W,A.y],{ngForOf:[0,"ngForOf"]},null),(n()(),A._36(-1,null,[" \n    "]))],function(n,l){n(l,3,0,l.component.journalModel.answerList)},null)}function s(n){return A._38(0,[(n()(),A._36(-1,null,["\n"])),(n()(),A._17(1,0,null,null,19,"div",[["class","main"]],null,null,null,null,null)),(n()(),A._36(-1,null,["\n    "])),(n()(),A._17(3,0,null,null,1,"app-date-header",[],null,[[null,"getFromChildDate"]],function(n,l,t){var e=!0,u=n.component;if("getFromChildDate"===l){e=!1!==u.getForDate(t)&&e}return e},r,N)),A._15(4,49152,null,0,j,[],{currentDate:[0,"currentDate"]},{getFromChildDate:"getFromChildDate"}),(n()(),A._36(-1,null,["\n    "])),(n()(),A._17(6,0,null,null,10,"div",[["aria-label","Basic example"],["class","btn-group"],["role","group"]],null,null,null,null,null)),(n()(),A._36(-1,null,["\n            "])),(n()(),A._17(8,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.filter("all")&&e}return e},null,null)),(n()(),A._36(-1,null,["All"])),(n()(),A._36(-1,null,["\n            "])),(n()(),A._17(11,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.filter("morning")&&e}return e},null,null)),(n()(),A._36(-1,null,["Morning"])),(n()(),A._36(-1,null,["\n            "])),(n()(),A._17(14,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.filter("night")&&e}return e},null,null)),(n()(),A._36(-1,null,["Night"])),(n()(),A._36(-1,null,["\n          "])),(n()(),A._36(-1,null,["\n    "])),(n()(),A._11(16777216,null,null,1,null,i)),A._15(19,16384,null,0,I.l,[A.Z,A.W],{ngIf:[0,"ngIf"]},null),(n()(),A._36(-1,null,["\n"])),(n()(),A._36(-1,null,[" "]))],function(n,l){var t=l.component;n(l,4,0,t.journalModel.dateCreated),n(l,19,0,t.journalModel.answerList.length>0)},null)}function c(n){return A._38(0,[(n()(),A._17(0,0,null,null,1,"app-journal",[],null,null,null,s,R)),A._15(1,114688,null,0,M,[F],null,null)],function(n,l){n(l,1,0)},null)}Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function n(){console.log("Journal module")}return n.ctorParameters=function(){return[]},n}(),_=[""],g=[".singleJournal[_ngcontent-%COMP%]{margin:7px 7px 7px 7px;padding:5px 5px 5px 5px;border-radius:10px;width:400px;box-shadow:10px 10px 5px #888;background-color:#ffffe0}.textArea[_ngcontent-%COMP%]{padding:5px 5px;background-color:#ffffe0;border-radius:2px}.buttonArea[_ngcontent-%COMP%]{padding:5px 5px;background-color:#87cefa;border-radius:12px}button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}"],p=t("/oeL"),f=t("bm2B"),h=function(){function n(n){this.fb=n,this.saveJournal=new p.p,this.answerModelToPass=null}return n.prototype.ngOnInit=function(){this.saveJournalForm=this.fb.group({answerText:this.answer.answer,questionText:this.answer.question.questionText,key:this.answer.key,isActive:!0,timeOfDay:this.answer.question.timeOfDay})},n.prototype.getTitleStyle=function(){switch(this.answer.question.timeOfDay){case"Morning":return{"background-color":"lightorange"};case"Evening":return{"background-color":"lightblue"};default:return{"background-color":"lightorange"}}},n.prototype.onSubmit=function(){this.answerModelToPass={answer:this.saveJournalForm.controls.answerText.value,key:this.saveJournalForm.controls.key.value,question:{questionText:this.saveJournalForm.controls.questionText.value,timeOfDay:this.saveJournalForm.controls.timeOfDay.value,isActive:!0}},console.log("answerModeltoPass",this.answerModelToPass),this.saveJournal.emit(JSON.stringify(this.answerModelToPass))},n.ctorParameters=function(){return[{type:f.d}]},n}(),v=t("/oeL"),m=t("bm2B"),b=t("qbdv"),D=[g],y=v._14({encapsulation:0,styles:D,data:{}}),w=(v._12("app-single-journal",h,u,{answer:"answer"},{saveJournal:"saveJournal"},[]),{questionText:"",timeOfDay:"Morning",isActive:!0}),x=[{key:"",answer:"",question:w}],C={dateCreated:(new Date).toString(),answerList:x},k=t("HAwn"),J=t("woV1"),S=t("HjMk"),F=function(){function n(n,l){this.db=n,this.dateHelperService=l,this.journalModel=C,this.baseURL=J.a.JOURNAL,this.returnObject=null}return n.prototype.getJournalForDate=function(n){var l=this.dateHelperService.getParsedDate(n,"/");return this.baseURL=J.a.JOURNAL+"/"+l,this.db.list(this.baseURL).snapshotChanges()},n.prototype.createJournalForDate=function(n){var l=this,t=this.dateHelperService.getParsedDate(n,"/");this.shouldCreateData(n)&&(this.baseURL=J.a.QUESTIONLIST,this.db.list(this.baseURL).snapshotChanges().subscribe(function(n){for(var e=0,u=n;e<u.length;e++){var r=u[e],a=r.payload,o=a.val(),i={key:"",question:o,answer:" "};l.db.list(J.a.JOURNAL+"/"+t).push(i)}}))},n.prototype.saveJournalForDate=function(n,l){var t=this.dateHelperService.getParsedDate(n,"/");this.db.list(J.a.JOURNAL+"/"+t).update(l.key,l)},n.prototype.shouldCreateData=function(n){var l=this.dateHelperService.getParsedDate(new Date(n).toString(),""),t=this.dateHelperService.getParsedDate((new Date).toString(),""),e=this.dateHelperService.addDays((new Date).toString(),1),u=this.dateHelperService.getParsedDate(e.toString(),""),r=Number.parseInt(l),a=Number.parseInt(t),o=Number.parseInt(u);return r>=a&&r<=o},n.ctorParameters=function(){return[{type:k.a},{type:S.a}]},n}(),M=function(){function n(n){this.journalService=n,this.currentDate=(new Date).toString(),this.data=null,this.fetchedJournalModel=C,this.journalModel=C,this.answerList=x,this.filterText="all"}return n.prototype.ngOnInit=function(){this.getJournalForDate()},n.prototype.getForDate=function(n){this.currentDate=n,this.getJournalForDate()},n.prototype.getJournalForDate=function(){var n=this;this.journalService.getJournalForDate(this.currentDate).subscribe(function(l){if(0===l.length)n.journalService.createJournalForDate(n.currentDate);else if(n.journalModel=n.getJournalFromList(l),n.journalModel.dateCreated=n.currentDate,""!==n.filterText&&"all"!==n.filterText){var t=n.journalModel.answerList.filter(function(l){return l.question.timeOfDay===n.filterText});n.journalModel.answerList=t}})},n.prototype.getJournalFromList=function(n){var l=[];return n.forEach(function(n){var t=n.key,e=n.payload.val(),u={key:t,answer:e.answer,question:e.question};l.push(u)}),this.journalModel.answerList=l,this.journalModel},n.prototype.filter=function(n){switch(n){case"all":this.filterText="";break;case"morning":this.filterText="Morning";break;case"night":this.filterText="Evening"}this.getJournalForDate()},n.prototype.getSaveJournal=function(n){var l=JSON.parse(n);this.journalService.saveJournalForDate(this.currentDate,l)},n.ctorParameters=function(){return[{type:F}]},n}(),P=[".dateHeader[_ngcontent-%COMP%]{background-color:#ffffe0}"],T=t("/oeL"),j=function(){function n(){this.getFromChildDate=new T.p}return n.prototype.getNextDate=function(){this.currentDate=this.addDays(this.currentDate,1),this.getFromChildDate.emit(this.currentDate)},n.prototype.getPreviousDate=function(){this.currentDate=this.addDays(this.currentDate,-1),this.getFromChildDate.emit(this.currentDate)},n.prototype.addDays=function(n,l){var t=new Date(n);return t.setDate(t.getDate()+l),t.toString()},n}(),O=t("/oeL"),L=t("qbdv"),q=[P],N=O._14({encapsulation:0,styles:q,data:{}}),A=(O._12("app-date-header",j,a,{currentDate:"currentDate"},{getFromChildDate:"getFromChildDate"},[]),t("/oeL")),H=t("bm2B"),I=t("qbdv"),U=[_],R=A._14({encapsulation:0,styles:U,data:{}}),B=A._12("app-journal",M,c,{},{},[]),E=t("BkNc"),V=function(){function n(n){this.router=n}return n.ctorParameters=function(){return[{type:E.k}]},n}();t.d(l,"JournalModuleNgFactory",function(){return K});var W=t("/oeL"),z=t("qbdv"),Z=t("bm2B"),Q=t("HjMk"),$=t("HAwn"),G=t("BkNc"),K=W._13(d,[],function(n){return W._27([W._28(512,W.k,W._9,[[8,[B]],[3,W.k],W.E]),W._28(4608,z.n,z.m,[W.A]),W._28(4608,Z.d,Z.d,[]),W._28(4608,Z.q,Z.q,[]),W._28(4608,Q.a,Q.a,[]),W._28(4608,F,F,[$.a,Q.a]),W._28(512,z.b,z.b,[]),W._28(512,G.n,G.n,[[2,G.s],[2,G.k]]),W._28(512,V,V,[G.k]),W._28(512,Z.o,Z.o,[]),W._28(512,Z.n,Z.n,[]),W._28(512,d,d,[]),W._28(1024,G.i,function(){return[[{path:"",component:M}]]},[])])})}});